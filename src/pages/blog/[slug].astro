---
import { getEntryBySlug, getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

export async function getStaticPaths() {
const posts = await getCollection('blog');
return posts.map((post) => ({
params: { slug: post.slug }
}));
}

const { slug } = Astro.params;
const post = await getEntryBySlug('blog', slug);

if (!post) {
throw new Error(`Post not found for slug: ${slug}`);
}


const { Content } = await post.render();
const { title, description } = post.data;
---

<Layout title={title} showHeaderOverlay={false} immersive={false} enableHeaderTransition={false}>

    <article class="prose prose-lg max-w-3xl mx-auto px-4 pt-28 pb-16 text-[#2D3142]">

        <h1 class="text-3xl font-bold mb-4">{title}</h1>
        <p class="text-gray-600 mb-8">{description}</p>
        <Content />
    </article>
</Layout>